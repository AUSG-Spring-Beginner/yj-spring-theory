# Chapter 4. 의존 자동 주입
> @Autowired 를 이용한 의존 자동 주입.

## @Autowired 애노테이션 이용한 의존 자동 주입

스프링이 알아서 의존 객체를 찾아서 주입. 설정에 의존 객체를 명시하지 않아도, 스프링이 필요한 의존 빈 객체를 찾아서 주입해준다. 주입할 대상 에 @Autowired 애노테이션을 붙이기만 하면 됨. 이는 메소드에도 적용할 수 있는데, 세터 메서드에 적용하면 실행하지 않고도 알아서 타입이 일치하는 빈 객체를 찾아서 주입한다.

### 일치하는 빈이 없는 경우
다른 빈을 생성하다 오류를 뱉는다. 일치하는 빈이 두개 이상이어도 오류를 뱉는다. 자동 주입을 하려면 해당 타입의 빈이 어떤 빈인지 정확하게 한정할 수 있어야 한다. 

## @Qualifier 애노테이션을 이용한 의존 객체 선택
자동 주입 가능한 빈이 두 개 이상일 경우, `@Qualifier` 애노테이션을 사용한다. 이는 자동 주입 대상 빈을 한정해 준다. 필드와 매서드에 모두 적용할 수 있다.

### 빈 이름과 기본 한정자
빈 설정에 @Qualifier 애노테이션이 없으면 빈의 이름을 한정자로 지정한다.

## 상위/하위 타입 관계와 자동 주입
자동 주입할 객체가 상속 관계에 있고, 한정자가 없으면 @Qualifier 애노테이션을 사용하지 않았을 때와 같은 익셉션이 나타난다. 이럴 때는 @Qualifier 애노테이션을 붙여서 빈을 한정해 주자. 혹은 하위 타입을 자동 주입 받도록 애노테이션을 수정해도 된다.

## @Autowired 애노테이션의 필수 여부
1. 자동 주입할 대상이 필수가 아닌 경우 @Autowired 애노테이션의 required 속성을 false로 지정한다. 이렇게 되면 매칭되는 빈이 없어도 익셉션이 발생하지 않고 자동 주입을 수행하지 않는다. 이 경우 값이 없는 Optional 을 인자로 전달한다. Optional 을 사용하는 코드는 값 존재 여부에 따라 알맞게 의존 객체를 사용하면 된다.
2. `@Nullable` 애노테이션을 사용하는 방법이 있다. 자동 주입할 빈이 존재하지 않으면 인자로 null 을 전달한다.

두 가지 방법의 차이점은 두 번째 경우 자동 주입할 빈이 존재하지 않아도 메서드가 호출된다는 점이다. 첫 번째는  세터 메서드를 호출하지 않는다.

## 자동 주입과 명시적 의존 주입 간의 관계
명시적으로 설정해줬더라도 자동 주입 애노테이션이 붙어 있으면 자동 주입을 통해 빈을 주입한다.